2000-06-04  Gary Thomas  <gthomas@redhat.com>

	* cdl/hal.cdl: Support variant 'pkgconf' headers.  This will allow
	[variant] common symbols to be defined, rather than duplicating 
	them over all platforms using that variant.

2000-05-25  Jesper Skov  <jskov@redhat.com>

	* cdl/debugging.cdl: Allow thread support to included for ROM
	monitor builds.

2000-05-22  Jesper Skov  <jskov@redhat.com>

	* cdl/debugging.cdl: Allow platform to prevent CTRLC inclusion.

2000-04-12  Jesper Skov  <jskov@redhat.com>

	* cdl/debugging.cdl: Don't let interfaces define anything.

2000-04-07  Jesper Skov  <jskov@redhat.com>

	* cdl/hal.cdl: Fix dependencies for stub.

2000-03-28  Jesper Skov  <jskov@redhat.com>

	* src/generic-stub.c (__process_packet): Added 'z' packet reply.

2000-03-28  John Dallaway  <jld@cygnus.co.uk>

	* cdl/hal.cdl:

	Adjust documentation URLs.

2000-03-24  Jesper Skov  <jskov@redhat.com>

	* include/hal_stub.h: Fixed a bad function name. Made it opssible
	for archs to define CYG_HAL_GDB_ENTER_CRITICAL_IO_REGION.

2000-03-20  Jesper Skov  <jskov@redhat.com>

	* cdl/debugging.cdl: Preclude USE_MONITOR when including stubs.

2000-03-01  Gary Thomas  <gthomas@cygnus.co.uk>

	* cdl/common.cdl: 
	Define CYGINT_HAL_DIAG_DISABLE_GDB_PROTOCOL_SUPPORTED as an
	'interface' so implementations can be properly specified.

2000-02-29  Gary Thomas  <gthomas@cygnus.co.uk>

	* cdl/common.cdl: Option to disable GDB protocol now supported
	by QUICC based PowerPC systems.

2000-02-29  Jonathan Larmour  <jlarmour@redhat.co.uk>

	* include/generic-stub.h: Make header C++ safe

2000-02-16  Jesper Skov  <jskov@redhat.com>

	* include/hal_stub.h: fixed endian definitions.

2000-02-10  Jesper Skov  <jskov@redhat.com>

	* include/pkgconf/hal.h: Added CYGSEM_HAL_ROM_MONITOR
	* src/hal_stub.c (initHardware): CYG_HAL_STARTUP_STUBS ->
	CYGSEM_HAL_ROM_MONITOR.
	Removed HAL_STUB_PLATFORM_STUBS_INIT.

2000-02-09  Jesper Skov  <jskov@redhat.com>

	* cdl/hal.cdl: Added remaining build dependencies.

2000-02-04  Jesper Skov  <jskov@redhat.com>

	* cdl/hal.cdl: Fix test list display.

2000-02-03  Jesper Skov  <jskov@redhat.com>

	* include/pkgconf/hal.h: CYG_HAL_POWERPC_x->CYGPKG_...

2000-02-03  Jesper Skov  <jskov@redhat.com>

	* cdl/debugging.cdl: Use interfaces for stub capabilities instead
	of exclude list.
	* cdl/hal.cdl: Add extra dependencies to common stub build rule.
	
2000-02-02  Jesper Skov  <jskov@redhat.com>

	* cdl/hal.cdl: Added HAL tests.

2000-01-31 Simon FitzMaurice  <sdf@cygnus.co.uk>
  * cdl/hal.cdl:

  Adjust help URLs in line with new doc layout.

2000-01-28 Simon FitzMaurice  <sdf@cygnus.co.uk>
  * cdl/hal.cdl:

  Adjust help URLs in line with new doc layout.

2000-01-27  Jesper Skov  <jskov@redhat.com>

	* cdl/hal.cdl: Added simple build rules for common stub.

2000-01-26  Jonathan Larmour  <jlarmour@redhat.co.uk>

	* src/hal_stub.c (__reset): Replace CYGDAT_CYGMON_ENABLE
	dependency with just CYGPKG_CYGMON
	(initHardware): Likewise
	(__set_baud_rate): Likewise
	(putDebugChar): Likewise

2000-01-17  John Dallaway  <jld@cygnus.co.uk>

	* cdl/common.cdl,
	  cdl/debugging.cdl:

	Modify the default_value attribute for
	CYGFUN_HAL_COMMON_KERNEL_SUPPORT, CYGPKG_HAL_EXCEPTIONS
	and CYGDBG_HAL_DEBUG_GDB_THREAD_SUPPORT to do the right
	thing in the absence of the eCos kernel package.

1999-12-22  John Dallaway  <jld@cygnus.co.uk>

	* cdl/hal.cdl:

	Add CFLAGS to the custom rule for extras.o to accommodate
	arm big-endian targets.

1999-12-21  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/pkgconf/hal.h: Rename all CYG_HAL_USE_ROM_MONITOR_GDB_STUBS
	-> CYGSEM_HAL_USE_ROM_MONITOR_GDB_stubs
	Rename all CYG_HAL_USE_ROM_MONITOR_CYGMON -> 
	CYGSEM_HAL_USE_ROM_MONITOR_CygMon
	Rename all CYG_HAL_USE_ROM_MONITOR -> CYGSEM_HAL_USE_ROM_MONITOR
	Don't need to define CYG_HAL_SH_SH7708 any more

	* cdl/hal.cdl: Add CYGPKG_HAL_ROM_MONITOR container package for
	platforms to put ROM-monitor related options into
	Move all ROM-monitor related options into individual platform CDL

1999-12-02  John Dallaway  <jld@cygnus.co.uk>

	* cdl/hal.cdl:

	Use '$<' to reference custom rule dependency.

1999-12-01  John Dallaway  <jld@cygnus.co.uk>

	* cdl/hal.cdl:

	Use the <PREFIX> token in custom rules.

1999-11-29  John Dallaway  <jld@cygnus.co.uk>

	* cdl/hal.cdl:

	Use wildcard in the custom rule for extras.o to
	accommodate 'make -n'.

1999-11-23  Simon Fitzmaurice <sdf@cygnus.co.uk>
	* cdl\common.cdl: Correct example of illiteracy

1999-11-20  Gary Thomas  <gthomas@cygnus.co.uk>
	
	* cdl/common.cdl: Add MMU tables options.

	* include/pkgconf/hal.h (CYGSEM_HAL_INSTALL_MMU_TABLES): 
	(CYGSEM_HAL_STATIC_MMU_TABLES): New options to control MMU table
	flavour and placement.

1999-11-15  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/dbg-threads-api.h, include/generic-stub.h,
	include/hal_stub.h: Add comments to explain these header files should
	not be included by user programs

1999-11-09  Gary Thomas  <gthomas@cygnus.co.uk>

	* cdl/common.cdl: Add CYGDBG_HAL_DIAG_DISABLE_GDB_PROTOCOL.
	
	* include/pkgconf/hal.h (CYGDBG_HAL_DIAG_DISABLE_GDB_PROTOCOL): 
	New option which [explicitly] controls use of GDB protocol
	for diagnostic I/O.

1999-11-03  Jesper Skov  <jskov@cygnus.co.uk>

	* cdl/hal.cdl: More crud out + mn10300 fixes.

1999-11-02  Jesper Skov  <jskov@cygnus.co.uk>

	* cdl/hal.cdl: Cleaned out some of the CPU config entries.

1999-10-29  Gary Thomas  <gthomas@cygnus.co.uk>

	* tests/PKGconf.mak: Add cache tests for Cirrus Logic boards.

1999-10-29  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/cache.c: Made safe for targets with no cache.

	* tests/PKGconf.mak: Don't build cache test for ARM unless
	explicitly enabled.

1999-10-28  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/cache.c: Fix array size.

1999-10-27  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/hal_stub.c: Fix typo (CYGDAT_CYGMON_ENABLE).  Also need
	to include <pkgconf/cygmon.h>

1999-10-27  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/hal_stub.c: Add explicit enable for CygMon package.

1999-10-27  Hugo Tyson  <hmt@cygnus.co.uk>

	* src/hal_stub.c (cyg_hal_gdb_interrupt): Bugfix to previous: ^Cs
	were being ignored when received by the diag output code, because
	there was already a break in place.  Solution is to let
	cyg_hal_gdb_interrupt() override any previous break, and tidy up
	state of course.

1999-10-26  Hugo Tyson  <hmt@cygnus.co.uk>

	* include/hal_stub.h (CYG_HAL_GDB_ENTER_CRITICAL_IO_REGION): Place
	the break at the address of a label within the calling context
	[normally hal_diag_write_char()]; this is neater and more
	portable; it's supported for more targets.  Also use
	cyg_hal_place_break() to place it, define that, &c.

	* src/hal_stub.c (cyg_hal_gdb_place_break): New routine to
	specially handle the inline breakpoint.  It basically does the
	same as cyg_hal_gdb_interrupt(), except on some platforms where
	you must do different things to set a bp from a non-interrupt
	context.

1999-10-25  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/hal_stub.c (putDebugChar, getDebugChar): When building with
	CygMon, these functions are defined by CygMon.

1999-10-26  John Dallaway  <jld@cygnus.co.uk>

	* cdl/hal.cdl:

	Modify custom make rule to specify file paths relative
	to the package version directory.

1999-10-22  Hugo Tyson  <hmt@cygnus.co.uk>

	* include/hal_stub.h (CYG_HAL_GDB_ENTER_CRITICAL_IO_REGION):
	(CYG_HAL_GDB_LEAVE_CRITICAL_IO_REGION): new macros to be invoked
	in hal_diag routines to make atomic the code that outputs a
	complete GDB $O packet.  This is required so that watching
	variables (which is implemented by stepping) and stepping itself
	does not try to ss through that $O output code.  CASE 102327.

	* src/hal_stub.c (cyg_hal_gdb_break_is_set): new routine to query
	whether a break is set: used by step in the stubs to decide to
	continue instead, because we are in a critical region.
	(cyg_hal_gdb_running_step): communication between generic stub and
	here: if set, a step has been converted into a continue, so we do
	NOT obey cyg_hal_gdb_remove_break until it is cleared, in
	handle_exception_cleanup().

	* src/generic-stub.c (__process_packet): If there is a break set
	by the hal_stub.c, convert a step to continue, and set
	cyg_hal_gdb_running_step to say we did so.

1999-10-22  Jesper Skov  <jskov@cygnus.co.uk>
        Case 102379
	* src/generic-stub.c (__handle_exception): Flush and clear caches
	after cleaning up after single-stepping.

	(memcpy, memset): Added to prevent stub hanging if user puts
	breakpoints in either function.

1999-10-19  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h: Added monitor configury for Brother
	board.
	
1999-10-10  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/thread-packets.c (stub_pkt_currthread): Fix typo in comment.

	* src/generic-stub.c: Reorg to expose register get/set functions.

1999-10-08  Simon Fitzmaurice <sdf@cygnus.co.uk>
	* cdl\interrupts.cdl: Quoted '[' and ']' (significant in TCL and thus CDL)

1999-10-08  Jesper Skov  <jskov@cygnus.co.uk>

	* cdl/interrupts.cdl: Added
	CYGIMP_HAL_COMMON_INTERRUPTS_IGNORE_SPURIOUS.

1999-09-22  Simon FitzMaurice <sdf@cygnus.co.uk>

	* cdl\hal.cdl : add priority field to "extras.o" rule

1999-09-21  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/thread-packets.c: Fix some typos in comments.

1999-09-15  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c: Override generic GDB interrupt functions for
	ARM. Need them to be thumb aware. 

1999-09-13  Gary Thomas  <gthomas@cygnus.co.uk>

	* include/pkgconf/hal.h: Add new config option to allow spurious
	interrupts to be ignored by the HAL.

	* src/generic-stub.c (__process_packet): Build in version string
	(date/time) for stubs in ROM to be returned via 'd' packet.

1999-09-09  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/pkgconf/hal.h (CYGDBG_HAL_DEBUG_GDB_INCLUDE_STUBS): Rename
	CYGPKG_HAL_MN10300_SIM to CYGPKG_HAL_MN10300_AM31_SIM

1999-09-07  Nick Garnett  <nickg@cygnus.co.uk>

	* src/dbg-threads-syscall.c (dbg_currthread_id): Fixed to return
	zero if dbg_currthread() returns false. Previously it could have
	returned a random value which would have made GDB think there had
	been a thread switch when there hadn't. It was particularly prone
	to do this in configurations where the kernel was absent.

1999-09-01  Gary Thomas  <gthomas@cygnus.co.uk>

	* include/pkgconf/hal.h: Always include target and platform package
	include (pkgconf) files.

1999-08-26  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* src/generic-stub.c (__hex2mem_helper):
	Use target_register_t when casting to address type, rather than long
	Since the compiler can choose arbitrary alignment of unions, force
	to use byte array only
	Restore use of loop termination test for *hexMemSrc, just in case
	since that's how it used to be
	Increment destination, not source at end of loop
	
	(__mem2hex_helper):
	Use target_register_t when casting to address type, rather than long.
	Since the compiler can choose arbitrary alignment of unions, force
	to use byte array only. Therefore use single __read_mem_safe() call
	
	* src/hal_stub.c (__do_copy_mem): Reassign back from dst/src at start
	of each	"if" clause in case we go round the loop again.

1999-08-24  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/hal_stub.c (__do_copy_mem): Move temp variables to top of
	function - potentially safer if there is an error.

1999-08-23  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* src/generic-stub.c (__process_packet): For 'g' and 'G' packets,
	when the register size differs from sizeof(target_register_t) we must
	adjust according to the endianness 

	* include/hal_stub.h: Ensure __LITTLE_ENDIAN__ is defined on
	little-endian targets

	* src/hal_stub.c (__build_t_packet): Use the correct register sizes
	for PC and SP rather than assuming they are the same as target_register_t

1999-08-23  Gary Thomas  <gthomas@cygnus.co.uk>

	* include/generic-stub.h: Change prototypes for internal functions.

	* src/hal_stub.c (__do_copy_mem): 
	* src/generic-stub.c (__mem2hex_helper): Rework to perform aligned,
	multi-byte operations when conditions allow.  This should handle
	most "hardware register" access cases.  Note: there currently is
	no good way to force GDB to require/use such accesses.

1999-08-17  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* tests/intr.c (cyg_start): Use CYG_TEST_NA rather than a pass saying
	it's inapplicable

1999-08-16  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/pkgconf/hal.h: Rename CYG_HAL_MN10300_AM32_STDEVAL1 to
	CYG_HAL_MN10300_AM31_STDEVAL1

1999-08-13  Nick Garnett  <nickg@cygnus.co.uk>

	* src/hal_stub.c: Removed superfluous trace() extern.

1999-08-12  Nick Garnett  <nickg@cygnus.co.uk>	

	Imported following changes from AM33 branch:
	
    1999-07-27  Nick Garnett  <nickg@cygnus.co.uk>

	* src/hal_stub.c: Added support for 1 byte breakpoints.
	Removed	invalidates for cache flushes - I am not entirely sure why
	we have these here, since HAL_DCACHE_SYNC() should do what we
	need, and these invalidates are causing a problem on the MIPS and
	MN10300 targets.

	* include/pkgconf/hal.h: Added Monitor selection for AM33.

    1999-06-29  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h: Modified to match new MN10300 HAL
	organization.

1999-08-06  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c (__process_packet): FLush and clear caches
	after call to __single_step.

1999-07-05  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/intr.c: Don't use kernel's RTC definitions.

1999-07-02  Jesper Skov  <jskov@cygnus.co.uk>
        PR20157
	* tests/cache.c: Print stride values, preventing timeout on slow
	targets.

1999-06-28  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h (CYGDBG_HAL_DEBUG_GDB_BREAK_SUPPORT):
	Fixed parent.

1999-06-24  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/pkgconf/hal.h: Clarify descriptions of
	CYGDBG_HAL_DEBUG_GDB_BREAK_SUPPORT and
	CYGDBG_HAL_DEBUG_GDB_CTRLC_SUPPORT.

1999-06-17  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h: Added CYGDBG_HAL_DEBUG_GDB_CTRLC_SUPPORT
	to enable inclusion of ^C interrupt handler. Added CDL to control
	it.

1999-06-10  Hugo Tyson  <hmt@cygnus.co.uk>

	* include/pkgconf/hal.h: Add support for the PowerPC target MBX860
	platform, CYG_HAL_POWERPC_MBX.

1999-06-10  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/hal_stub.c: Need to init register pointer.

1999-06-08  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Added CYG_HAL_ROM_MONITOR for EDK7708.

1999-05-31  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c: Respect HAL_BREAKINST_SIZE setting.

1999-05-28  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Renamed SH platform package to edk7708.

1999-05-28  Nick Garnett  <nickg@cygnus.co.uk>

	* src/hal_stub.c (initHardware): Added call to
	HAL_STUB_PLATFORM_INIT if it is defined.

	* include/pkgconf/hal.h: Added a #undef for CYG_HAL_ROM_MONITOR,
	largely so that a stubrom permutation can define it.

1999-05-27  Nick Garnett  <nickg@cygnus.co.uk>

	* src/hal_stub.c: Do not call HAL_ICACHE_INVALIDATE_ALL() and
	HAL_DCACHE_INVALIDATE_ALL() in __instruction_cache() and
	__data_cache() for MIPS targets. These macros are simply
	duplicates.

1999-05-27  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/cache.c:  Added handling of unified caches.

1999-05-25  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* tests/cache.c: Use HAL_DCACHE_SYNC if available

1999-05-24  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Added CPU specifier for EDK board.

1999-05-21  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c (__install_traps): Set exit vector to __reset.

1999-05-21  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h: Switched VR4300 over to using GDB STUBS
	monitor from PMON.
	
1999-05-21  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/intr.c: Get RTC values from CYGBLD_HAL_PLATFORM_H.
	Ensure there are fallback definitions.

	* src/hal_stub.c (handle_exception_cleanup): Added optional call
	of HAL_STUB_PLATFORM_STUBS_FIXUP macro.

1999-05-18  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c (hal_output_gdb_string): Added missing ;

1999-05-13  Nick Garnett  <nickg@cygnus.co.uk>

	The following changes were all made on a branch and imported into
	the main trunk later.
	
    1999-05-11  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	tidied up all MIPS targets to include CYGBLD_HAL_TARGET_H. This
	will eventually apply to all configurations.

    1999-05-06  Nick Garnett  <nickg@cygnus.co.uk>

	* src/PKGconf.mak (COMPILE): Added dbg-threads-syscall.c.

	* include/dbg-thread-syscall.h: 
	* src/dbg-threads-syscall.c:
	Files added to enable support for thread-awareness in GDB stub
	ROMs. The .h file has been moved from kernel/src/debug.

    1999-04-28  Nick Garnett  <nickg@cygnus.co.uk>

	* src/hal_stub.c (__build_t_packet): Changed sp variable to a
	non-pointer type to force it to be installed in the T packet with
	the right size.

	* src/drv_api.c: Added cyg_interrupt_call_pending_DSRs() to keep
	HAL happy in non-kernel configurations.

    1999-04-21  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Added VR4300 configury for ROM monitor use and inclusion of
	variant-specific configuration header. This needs some further
	tidying up.
	
1999-04-28  Bart Veer  <bartv@cygnus.co.uk>

	* src/PKGconf.mak:
	Use the new rules for generating libextras.a

1999-04-27  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: GDB_BREAK support now available for ARM
	targets.
1999-04-16  Bart Veer  <bartv@cygnus.co.uk>

	* src/PKGconf.mak: 
	* src/dummy.c:
	New file that can always be added to libextras.a without
	affecting image sizes.

1999-04-14  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/hal_stub.h: 
	Make sure all functions have C linkage even in C++

1999-04-14  Jesper Skov  <jskov@cygnus.co.uk>
        PR 19845
	* src/generic-stub.c (__process_packet): Reset _register pointer
	to the exception state before attempting to set up single-step
	magic.

1999-04-14  Jesper Skov  <jskov@cygnus.co.uk>

	* include/hal_stub.h: Added declaration for __stub_copy_registers.

1999-04-14  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c: Use HAL_xCACHE_IS_ENABLED if defined.

1999-04-09  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c:
	Moved get_register and put_register here. Made them access the
	currently selected register set.

1999-03-22  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/dbg-threads-api.h: Update copyright

	* src/generic-stub.c: Change Cygnus Support->Cygnus Solutions

	* src/thread-packets.c: Update copyright

	* src/thread-pkts.h: Update copyright

1999-03-19  Nick Garnett  <nickg@cygnus.co.uk>

	* tests/cache.c: Added interrupt disable and enable to cache state
	change blocks, in line with similar changes to kcache1.

1999-03-17  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c (hal_output_gdb_string): Use disable/restore
	macros to make sure it works even when interruptible() is a NOP
	function.

1999-03-10  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Changed include of hal_tx39_jmr3904.h to hal_tx39.h.

1999-03-05  Nick Garnett  <nickg@cygnus.co.uk>

	* include/drv_api.h: 
	* src/drv_api.c:
	Fixed some typos in non-kernel configuration support.

1999-03-04  Jesper Skov  <jskov@cygnus.co.uk>
        PR 19367
	* include/pkgconf/hal.h: Exclude GDB stubs on sparc.

1999-02-26  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c: 
	* include/generic-stub.h: 
	Added binary download patches from libstub.
	
1999-02-25  Nick Garnett  <nickg@cygnus.co.uk>

	* include/drv_api.h:
	* src/drv_api.c: 
	Added these files to define driver API.

1999-02-23  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Added include of <pkgconf/hal_tx39_jmr3904.h> to get TX39 speed
	configuration options.

1999-02-20  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* tests/intr.c: 
	Rename CYGNUM_VECTOR_RTC -> CYGNUM_HAL_INTERRUPT_RTC in line with
	HAL changes

1999-02-17  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_stub.c: 
	* src/generic-stub.c (__handle_exception): 
	Only include cyg_hal_gdb_break magic when stub is configured to
	handle GDB BREAK signals.

1999-02-17  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c (__handle_exception): Moved special signal
	handling here to avoid duplication for all architectures.

1999-02-16  Jesper Skov  <jskov@cygnus.co.uk>

	* src/stubrom/stubrom.c: Changed set_debug_traps to initialize_stub.

	* include/hal_stub.h: [added]
	* include/generic-stub.h:
	* src/hal_stub.c:     [added]
	* src/board.h:        [added]
	* src/thread-pkts.h: 
	* src/thread-packets.c: 
	* src/generic-stub.c: 
	* src/PKGconf.mak: 
	Merged in latest libstub changes. Moved most eCos specific changes
	into hal_stub.[ch], reducing effort required for further
	merging/integration.

1999-02-05  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Cleaned up the MPC8xx configuration.

1999-01-29  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Added simple MPC8xx configuration.


1999-01-26  Hugo Tyson  <hmt@cygnus.co.uk>

	* tests/cache.c (time0): Waste much less time if running in a
	simulator.  Do only 40 loops instead of 4000.
	In consequence the nasty meddling with MAX_STRIDE depending on
	HAL_xxx_SIM package definitions can go.
	
1999-01-22  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Renamed CYG_HAL_POWERPC_FADS to
	CYGPKG_HAL_POWERPC_FADS.

1999-01-21  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Tidy up and update description
	Add new CYGSEM_HAL_STOP_CONSTRUCTORS_ON_FLAG option to allow default
	priority static constructors to be deferred
	Remove all traces of non-CYG_KERNEL_USE_INIT_PRIORITY code
	
1999-01-21  Jesper Skov  <jskov@cygnus.co.uk>
        Merge with FADS branch.
	
        1998-12-17  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Don't allow GDB BREAK support on FADS.
	Define _MPC860, not _MP860.

        1998-12-17  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Added FADS entry from Kevin Hester <KHester@opticworks.com>.

	1999-01-19  Hugo Tyson  <hmt@cygnus.co.uk>

	* include/pkgconf/hal.h: 
	Add CYG_KERNEL_USE_INIT_PRIORITY for SPARCLITE.


1999-01-18  Jesper Skov  <jskov@cygnus.co.uk>
        PR 18823
	* include/pkgconf/hal.h: Don't allow GDB stubs to be configured
	for Linux target.

1999-01-18  Jesper Skov  <jskov@cygnus.co.uk>
	PR 18822
	* include/pkgconf/hal.h: GDB_BREAK support not available for ARM
	targets.
	
1999-01-14  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/stubrom/PKGconf.mak: Rename 'TESTS' to 'PROGS' due to 
	changes in 'makrules.prv'.

1999-01-14  Jesper Skov  <jskov@cygnus.co.uk>

	* src/stubrom/stubrom.c (cyg_start): Fix compiler warning.

	* include/dbg-threads-api.h: Include cyg_type.h to get externC
	definition.

1999-01-14  Nick Garnett  <nickg@cygnus.co.uk>

	* include/dbg-threads-api.h: Added prototype for dbg_scheduler().

1999-01-13  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/generic-stub.c (__output_hex_value): Change buffer size
	[2048 was rather large] and make stack based.  Also don't
	allow for string to exceed buffer.

1999-01-13  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c (strcpy): Terminate copied string.

1999-01-11  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/intr.c (CYGNUM_KERNEL_COUNTERS_RTC_PERIOD): Added RTC data
	for Linux.

Wed Dec  9 14:07:30 GMT 1998  Chris Provenzano  <proven@cygnus.com>

	* include/pkgconf/hal.h: Compile the i386 linux target with
	CYG_KERNEL_USE_INIT_PRIORITY defined.


1999-01-04  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c (interruptible): Cleaned up a bit.

1999-01-04  Jesper Skov  <jskov@cygnus.co.uk>
	PR 18572

	* tests/cache.c: Purge data cache before invalidating it.

1998-12-09  Gary Thomas  <gthomas@cygnus.co.uk>

	* src/generic-stub.c: Better handling of errors while stubs
	are accessing memory on behalf of GDB.  Requires support for
	GCC 'computed goto label' in top-level exception handler.

1998-12-09  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Removed the
	CYGARC_HAL_COMMON_EXPORT_CPU_MACROS option. Causing failures in
	permutation tests.

1998-12-07  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c (process_exception): Send an acknowledge char
	on first entry so GDB doesn't timeout before resending its initial
	packet.

1998-11-26  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Added
	CYGARC_HAL_COMMON_EXPORT_CPU_MACROS.

1998-11-23  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/cache.c: Only run with stride 1 on SIMs.

1998-11-23  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Define SIM as a 603 CPU.

1998-11-19  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/intr.c:
	Make the test do nothing if kernel real-time clock is enabled.
	Added different timer constants for PPC SIM and HW.

1998-11-17  Jesper Skov  <jskov@cygnus.co.uk>

	* tests/intr.c: 
	* include/pkgconf/hal.h:
	Renamed CYG_HAL_POWERPC_MP860 to CYG_HAL_POWERPC_MPC860.
	
1998-11-04  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Made CYGDBG_HAL_DEBUG_GDB_BREAK_SUPPORT a
	sub-option of CYGDBG_HAL_DEBUG_GDB_INCLUDE_STUBS.

1998-11-16  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Allow GDB stubs to be configured for
	MN10300 HW. Allow GDB_BREAK for all but tx39.

1998-11-04  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Made CYGDBG_HAL_DEBUG_GDB_BREAK_SUPPORT a
	sub-option of CYGDBG_HAL_DEBUG_GDB_INCLUDE_STUBS.

1998-11-04  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c (process_packet): Flush D cache before
	invalidating I cache.

1998-11-02  Jesper Skov  <jskov@cygnus.co.uk>

	* src/generic-stub.c (__handle_exception): Check for breakpoints
	set by GDB interrupt handler.

1998-10-25  Jesper Skov  <jskov@cygnus.co.uk>

	* src/thread-packets.c: Fixed closing #endif comment.

	* src/generic-stub.c: Fixed closing #endif comment.

1998-10-23  Jesper Skov  <jskov@cygnus.co.uk>

	* src/hal_common.c: Removed. We can't use weak default functions
	when they may conflict with strong functions in the library.

1998-10-23  Jesper Skov  <jskov@cygnus.co.uk>

	* include/generic-stub.h: Added __interruptible_control.

1998-10-23  Jesper Skov  <jskov@cygnus.co.uk>
        PR 17460, PR 17913

	* include/pkgconf/hal.h: Let HAL exception support require Kernel
	exception support.

1998-10-21  Jesper Skov  <jskov@cygnus.co.uk>
        PR 17842

	* include/pkgconf/hal.h: Let HAL GDB thread support require Kernel
	GDB thread support.

1998-10-20  Jesper Skov  <jskov@lassi.cygnus.co.uk>
        PR 17460

 	* src/hal_common.c: Added. Includes a weak handle_exception
 	definition.

1998-10-20  Jesper Skov  <jskov@cygnus.co.uk>
        PR 17885, 17880, 17841

	* include/pkgconf/hal.h: Don't allow GDB stubs to be configured
	for SIMs or MN10300.

1998-10-19  Jesper Skov  <jskov@lassi.cygnus.co.uk>

	* src/thread-packets.c: Sync'd with libstub source.

1998-10-16  Bart Veer  <bartv@cygnus.co.uk>

	* include/pkgconf/hal.h (CYGNUM_HAL_COMMON_INTERRUPTS_STACK_SIZE):
	Added new configuration option for interrupt stack size.

Thu Oct 15 21:25:55 1998  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* include/pkgconf/hal.h: 
	Make CYGFUN_HAL_COMMON_KERNEL_SUPPORT require the kernel, as it
	is enabling this is eCos-kernel specific, and relies on 
	configuration options defined only in the kernel
	Required for PR 17229

1998-10-15  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h (CYGDBG_HAL_DEBUG_GDB_BREAK_SUPPORT):
	Added config option.

1998-10-14  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Move some configury from kernel.h to here. Particularly the
	support for GDB stubs.

	* tests/cache.c: 
	* tests/context.c: 
	* tests/intr.c: 
	* tests/PKGconf.mak:
	New directory of HAL-only test programs. Currently contains some
	very basic test programs.

	* include/generic-stub.h:
	* include/dbg-threads-api.h:
	* src/generic-stub.c:
	* src/thread-packets.c: 
	* src/thread-pkts.h: 
	* src/stubrom/PKGconf.mak: 
	* src/stubrom/stubrom.c: 
	Moved these files here from kernel.

1998-10-08  Gary Thomas  <gthomas@penang.cygnus.co.uk>

	* include/pkgconf/hal.h: 
	Add support for new architecture.

1998-09-23  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Switched TX39 over to using CYGMON from GDB stubs.

Tue Sep 15 19:13:04 1998  David Moore  <dsm@keema.cygnus.co.uk>

	* include/pkgconf/hal.h: Cleaned up comments.

Mon Sep 14 11:08:26 1998  Jesper Skov  <jskov@lassi.cygnus.co.uk>
        PR 17230

	* include/pkgconf/hal.h: Added IMP_HAL_COMMON_INTERRUPTS_CHAIN
	option.

1998-09-14  Bart Veer  <bartv@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Fixed typo in description.

1998-09-12  Bart Veer  <bartv@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Sort out exception handling options (PR 16953)
	Added missing descriptions (PR 17184)

Tue Sep  8 17:16:39 1998  Hugo Tyson  <hmt@cygnus.co.uk>

	* include/pkgconf/hal.h: 
	Elide some spurious redefines of CYG_HAL_MN10300_STDEVAL1 and
	CYG_HAL_MN10300_SIM within ifdefs conditioned on same.

1998-09-03  Bart Veer  <bartv@cygnus.co.uk>

	* include/pkgconf/hal.h:
	CYGPKG_HAL_COMMON is now a component, not a package.

1998-09-02  Bart Veer  <bartv@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Moved target and platform specific configuration data to
	the appropriate packages.
	
	Symbols identifying the target hardware should be just defined,
	not given a value, as per the coding standards.

Mon Aug 31 09:16:08 1998  Jesper Skov  <jskov@cygnus.co.uk>

	* include/pkgconf/hal.h: Added INIT_PRIORITY default setting for
	powerpc.

1998-08-28  Bart Veer  <bartv@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Added configuration data.

1998-08-20  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Moved definition of CYG_KERNEL_USE_INIT_PRIORITY here from
	kernel.h.

1998-08-18  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal.h:
	Created this file to contain HAL config options.

//===========================================================================
//####COPYRIGHTBEGIN####
//                                                                          
// -------------------------------------------                              
// The contents of this file are subject to the Red Hat eCos Public License 
// Version 1.1 (the "License"); you may not use this file except in         
// compliance with the License.  You may obtain a copy of the License at    
// http://www.redhat.com/                                                   
//                                                                          
// Software distributed under the License is distributed on an "AS IS"      
// basis, WITHOUT WARRANTY OF ANY KIND, either express or implied.  See the 
// License for the specific language governing rights and limitations under 
// the License.                                                             
//                                                                          
// The Original Code is eCos - Embedded Configurable Operating System,      
// released September 30, 1998.                                             
//                                                                          
// The Initial Developer of the Original Code is Red Hat.                   
// Portions created by Red Hat are                                          
// Copyright (C) 1998, 1999, 2000 Red Hat, Inc.                             
// All Rights Reserved.                                                     
// -------------------------------------------                              
//                                                                          
//####COPYRIGHTEND####
//===========================================================================
